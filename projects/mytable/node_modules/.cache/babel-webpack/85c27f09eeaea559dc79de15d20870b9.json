{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../../service/Product.service\";\nimport * as i3 from \"src/app/service/Cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"primeng/dialog\";\n\nfunction ProductDetailComponent_label_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"label\", 24);\n    i0.ɵɵelementStart(1, \"input\", 25);\n    i0.ɵɵlistener(\"change\", function ProductDetailComponent_label_27_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.ChooseColor(item_r4.color);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\", 26);\n    i0.ɵɵelementStart(3, \"span\", 27);\n    i0.ɵɵtext(4, \" done \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"background\", item_r4.color);\n  }\n}\n\nfunction ProductDetailComponent_label_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"label\", 28);\n    i0.ɵɵelementStart(1, \"span\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 30);\n    i0.ɵɵlistener(\"change\", function ProductDetailComponent_label_30_Template_input_change_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const item_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.handleClickSize(item_r7.size);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 31);\n    i0.ɵɵelementStart(5, \"span\", 27);\n    i0.ɵɵtext(6, \" done \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.size);\n  }\n}\n\nfunction ProductDetailComponent_span_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r10.isChosen ? item_r10.color + \", \" : null);\n  }\n}\n\nfunction ProductDetailComponent_span_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r11.isChosen ? item_r11.size + \", \" : null);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\n\nexport let ProductDetailComponent = /*#__PURE__*/(() => {\n  class ProductDetailComponent {\n    constructor(route, productService, cartService) {\n      this.route = route;\n      this.productService = productService;\n      this.cartService = cartService;\n      this.display = false;\n      this.currentImg = 0;\n      this.id = 0;\n      this.product = {};\n      this.listProduct = [];\n    }\n\n    ngOnInit() {\n      window.scrollTo(0, 0);\n      this.getProductByParam();\n      this.getProductsbyService();\n    }\n\n    getProductByParam() {\n      this.route.paramMap.subscribe(param => {\n        this.id = Number(param.get('id'));\n      });\n    }\n\n    getProductsbyService() {\n      this.productService.getProducts().subscribe(x => {\n        this.listProduct = x;\n        let result = this.listProduct.find(product => product.id === this.id);\n\n        if (result) {\n          result = this.ChangeObj(result);\n          this.product = result;\n        }\n      });\n    } // Mapping Object\n\n\n    ChangeObj(product) {\n      product.colors = product.colors.map(color => ({\n        color: color,\n        isChosen: false\n      }));\n      product.size = product.size.map(size => ({\n        size: size,\n        isChosen: false\n      }));\n      product.isOld = true;\n      return product;\n    }\n\n    minus() {\n      if (this.product.qty > 1) {\n        this.product.qty -= 1;\n      } else {\n        alert('Số lượng lớn hơn 0');\n      }\n    }\n\n    plus() {\n      this.product.qty += 1;\n    }\n\n    chaneQty() {\n      const txtValue = document.getElementById('text_value');\n\n      if (Number(txtValue.value) <= 0 || typeof this.product.qty != 'number') {\n        this.product.qty = 1;\n        txtValue.value = '1';\n        alert('Số lượng không hợp lệ');\n      }\n    }\n\n    addToCart() {\n      if (this.showDialog()) {\n        this.cartService.addToCart(this.product);\n      }\n    }\n\n    showDialog() {\n      if (this.checkIsChosen(this.product.colors) && this.checkIsChosen(this.product.size)) {\n        return true;\n      } else {\n        alert('Vui lòng chọn màu và size sản phẩm');\n        return false;\n      }\n    }\n\n    CheckPay() {\n      if (this.showDialog()) {\n        this.display = !this.display;\n      }\n    }\n\n    checkIsChosen(array) {\n      const isChosen = array.some(element => element.isChosen);\n\n      if (isChosen) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    handleClickSize(size) {\n      const result = this.product.size.find(size => size.size == size);\n\n      if (result) {\n        result.isChosen = true;\n      }\n    }\n\n    ChooseColor(color) {\n      const result = this.product.colors.find(color => color.color == color);\n\n      if (result) {\n        result.isChosen = true;\n      }\n    }\n\n  }\n\n  ProductDetailComponent.ɵfac = function ProductDetailComponent_Factory(t) {\n    return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.CartService));\n  };\n\n  ProductDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDetailComponent,\n    selectors: [[\"app-product-detail\"]],\n    decls: 62,\n    vars: 40,\n    consts: [[1, \"main\"], [1, \"img\"], [1, \"img-up\"], [\"alt\", \"\", 3, \"src\"], [1, \"img-down\"], [\"alt\", \"\", 3, \"src\", \"click\"], [1, \"content\"], [1, \"content-up\"], [1, \"title\"], [1, \"desription\"], [1, \"price\"], [1, \"content-down\"], [1, \"head\"], [1, \"body-content-down\"], [1, \"color\"], [\"class\", \"custom-radio\", 3, \"background\", 4, \"ngFor\", \"ngForOf\"], [1, \"size\"], [\"class\", \"custom-radio-size\", 4, \"ngFor\", \"ngForOf\"], [1, \"quantity\"], [1, \"material-icons\", 3, \"click\"], [\"id\", \"text_value\", \"type\", \"text\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [3, \"click\"], [\"header\", \"Th\\u00F4ng tin ho\\u00E1 \\u0111\\u01A1n\", 3, \"modal\", \"visible\", \"draggable\", \"resizable\", \"visibleChange\"], [4, \"ngFor\", \"ngForOf\"], [1, \"custom-radio\"], [\"type\", \"checkbox\", \"name\", \"color\", 1, \"btn-color\", 3, \"change\"], [1, \"radio-btn\"], [1, \"material-icons\"], [1, \"custom-radio-size\"], [1, \"name-size\"], [\"type\", \"checkbox\", \"name\", \"size\", 3, \"change\"], [1, \"radio-btn-size\"]],\n    template: function ProductDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"img\", 5);\n        i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_img_click_5_listener() {\n          return ctx.currentImg = 0;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"img\", 5);\n        i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_img_click_6_listener() {\n          return ctx.currentImg = 1;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 9);\n        i0.ɵɵtext(12, \" Form \\u00E1o Ch\\u00E2u \\u00C2u. \\u0110\\u1ECBnh l\\u01B0\\u1EE3ng : 220 gsm. 100% cotton. S\\u1EA3n ph\\u1EA9m \\u0111\\u01B0\\u1EE3c in l\\u1EE5a. Tag logo \\u0111\\u01B0\\u1EE3c g\\u1EAFn \\u1EDF tay \\u00E1o. Tem ch\\u1ED1ng h\\u00E0ng gi\\u1EA3 c\\u1EE7a SWE \\u0111\\u01B0\\u1EE3c may trong s\\u01B0\\u1EDDn \\u00E1o. C\\u00E1c b\\u1EA1n vui l\\u00F2ng tham kh\\u1EA3o b\\u1EA3ng size chart tr\\u01B0\\u1EDBc khi \\u0111\\u1EB7t h\\u00E0ng. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 10);\n        i0.ɵɵelementStart(14, \"del\");\n        i0.ɵɵtext(15, \"399.999 vn\\u0111\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\");\n        i0.ɵɵtext(17);\n        i0.ɵɵpipe(18, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 11);\n        i0.ɵɵelementStart(20, \"div\", 12);\n        i0.ɵɵelementStart(21, \"h3\");\n        i0.ɵɵtext(22, \"COLOR\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"h3\");\n        i0.ɵɵtext(24, \"SIZE\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 13);\n        i0.ɵɵelementStart(26, \"div\", 14);\n        i0.ɵɵtemplate(27, ProductDetailComponent_label_27_Template, 5, 2, \"label\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 16);\n        i0.ɵɵelementStart(29, \"div\", 14);\n        i0.ɵɵtemplate(30, ProductDetailComponent_label_30_Template, 7, 1, \"label\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 18);\n        i0.ɵɵelementStart(32, \"span\", 19);\n        i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_span_click_32_listener() {\n          return ctx.minus();\n        });\n        i0.ɵɵtext(33, \" remove_circle \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_Template_input_ngModelChange_34_listener($event) {\n          return ctx.product.qty = $event;\n        })(\"input\", function ProductDetailComponent_Template_input_input_34_listener() {\n          return ctx.chaneQty();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"span\", 19);\n        i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_span_click_35_listener() {\n          return ctx.plus();\n        });\n        i0.ɵɵtext(36, \" add_circle \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_button_click_37_listener() {\n          return ctx.addToCart();\n        });\n        i0.ɵɵtext(38, \"Th\\u00EAm gi\\u1ECF h\\u00E0ng\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function ProductDetailComponent_Template_button_click_39_listener() {\n          return ctx.CheckPay();\n        });\n        i0.ɵɵtext(40, \"Thanh to\\u00E1n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"p-dialog\", 22);\n        i0.ɵɵlistener(\"visibleChange\", function ProductDetailComponent_Template_p_dialog_visibleChange_41_listener($event) {\n          return ctx.display = $event;\n        });\n        i0.ɵɵelementStart(42, \"div\");\n        i0.ɵɵelementStart(43, \"h3\");\n        i0.ɵɵtext(44, \"Th\\u00F4ng tin chi ti\\u1EBFt:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"br\");\n        i0.ɵɵelementStart(46, \"p\");\n        i0.ɵɵtext(47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"p\");\n        i0.ɵɵtext(49);\n        i0.ɵɵpipe(50, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"p\");\n        i0.ɵɵtext(52, \"M\\u00E0u s\\u1EAFc : \");\n        i0.ɵɵtemplate(53, ProductDetailComponent_span_53_Template, 2, 1, \"span\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"p\");\n        i0.ɵɵtext(55, \"Size : \");\n        i0.ɵɵtemplate(56, ProductDetailComponent_span_56_Template, 2, 1, \"span\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"p\");\n        i0.ɵɵtext(58);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"p\");\n        i0.ɵɵtext(60);\n        i0.ɵɵpipe(61, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"src\", ctx.product.image ? ctx.product.image[ctx.currentImg] : null, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMap(ctx.currentImg == 0 ? \"active\" : null);\n        i0.ɵɵproperty(\"src\", ctx.product.image ? ctx.product.image[0] : null, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMap(ctx.currentImg == 1 ? \"active\" : null);\n        i0.ɵɵproperty(\"src\", ctx.product.image ? ctx.product.image[1] : null, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.product.name, \" \");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind4(18, 24, ctx.product.price * ctx.product.qty, \" \", \"symbol\", \"1.0-1\"), \" vn\\u0111\");\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.product.colors);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.product.size);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.qty);\n        i0.ɵɵadvance(7);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(39, _c0));\n        i0.ɵɵproperty(\"modal\", true)(\"visible\", ctx.display)(\"draggable\", false)(\"resizable\", false);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"T\\u00EAn s\\u1EA3n ph\\u1EA9m: \", ctx.product.name, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Gi\\u00E1 : \", i0.ɵɵpipeBind4(50, 29, ctx.product.price, \" \", \"symbol\", \"1.0-1\"), \" vn\\u0111\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.product.colors);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.product.size);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"S\\u1ED1 l\\u01B0\\u1EE3ng : \", ctx.product.qty, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"T\\u1ED5ng ti\\u1EC1n : \", i0.ɵɵpipeBind4(61, 34, ctx.product.price * ctx.product.qty, \" \", \"symbol\", \"1.0-1\"), \" vn\\u0111\");\n      }\n    },\n    directives: [i4.NgForOf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.Dialog],\n    pipes: [i4.CurrencyPipe],\n    styles: [\".main[_ngcontent-%COMP%]{display:flex;justify-content:center;width:80%;height:auto;text-align:center;margin:200px auto}.img[_ngcontent-%COMP%]{width:50%;min-height:70vh}.img-up[_ngcontent-%COMP%]{width:70%;margin:0 auto;height:auto}.img-up[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;border:20px;padding:20px;border-radius:10px;cursor:pointer;box-shadow:5px 10px 18px #888}.img-down[_ngcontent-%COMP%]{width:75%;margin:20px auto;height:100px;display:flex;padding-left:40px}.img-down[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;margin-left:10px;cursor:pointer}.img-down[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:translateY(-10px);transition:transform .5s ease}.img-down[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{padding:2px;border:solid #3a743a;border-radius:5px}.content[_ngcontent-%COMP%]{width:50%}.content-up[_ngcontent-%COMP%]{border-bottom:1px solid #999}.title[_ngcontent-%COMP%]{font-family:\\\"Segoe UI\\\",Tahoma,Geneva,Verdana,sans-serif;font-size:25px;font-weight:500;color:#000;margin:20px 0}.desription[_ngcontent-%COMP%]{font-size:18px}.price[_ngcontent-%COMP%]{margin:20px 0}.price[_ngcontent-%COMP%]   del[_ngcontent-%COMP%]{font-size:18px;color:#999}.price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;margin:20px 0}.head[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;font-size:25px;font-family:\\\"Times New Roman\\\",Times,serif;color:#666;font-weight:bold}.body-content-down[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%}.color[_ngcontent-%COMP%]{display:flex}.custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.custom-radio[_ngcontent-%COMP%]{display:block;width:30px;height:30px;border-radius:50%;border:1px solid #999;margin:0 5px;cursor:pointer}.radio-btn[_ngcontent-%COMP%]{display:none}.custom-radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-btn[_ngcontent-%COMP%]{color:green;display:flex;align-items:center;justify-content:center;font-size:30px}.custom-radio-size[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.custom-radio-size[_ngcontent-%COMP%]{display:block;width:30px;height:30px;border-radius:50%;border:1px solid #999;margin:0 5px;cursor:pointer;position:relative}.radio-btn-size[_ngcontent-%COMP%]{display:none}.custom-radio-size[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-btn-size[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:30px;color:green;position:absolute;top:0px;right:2px}.name-size[_ngcontent-%COMP%]{position:relative;top:-20px;font:28px;color:#999}button[_ngcontent-%COMP%]{margin-top:40px;width:200px;height:60px;background:#4267b2;color:#fff;font-size:25px;font-weight:bold;cursor:pointer;margin-left:30px}.quantity[_ngcontent-%COMP%]{width:20%;font-size:22px;font-weight:400;color:#000;font-family:\\\"Segoe UI\\\",Tahoma,Geneva,Verdana,sans-serif;margin:10px auto}.quantity[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:30px;height:30px;font-size:20px;font-weight:500;text-align:center;margin:0 3px}.quantity[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return ProductDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}